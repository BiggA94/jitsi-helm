{{/*
Create the name of the service account to use
*/}}
  {{- define "jitsi-meet.common.env" -}}
- name: PUBLIC_URL
  valueFrom:
    secretKeyRef:
      name: jitsi-config
      key: PUBLIC_URL
- name: DOCKER_HOST_ADDRESS
  valueFrom:
    secretKeyRef:
      name: jitsi-config
      key: DOCKER_HOST_ADDRESS
- name: XMPP_DOMAIN
  value: meet.jitsi
- name: XMPP_AUTH_DOMAIN
  value: auth.meet.jitsi
- name: XMPP_MUC_DOMAIN
  value: muc.meet.jitsi
- name: XMPP_INTERNAL_MUC_DOMAIN
  value: internal-muc.meet.jitsi
- name: XMPP_SERVER
  value: prosody
- name: XMPP_BOSH_URL_BASE
  value: http://prosody:5280
- name: XMPP_RECORDER_DOMAIN
  value: recorder.meet.jitsi
- name: JICOFO_COMPONENT_SECRET
  valueFrom:
    secretKeyRef:
      name: jitsi-config
      key: JICOFO_COMPONENT_SECRET
- name: JVB_AUTH_USER
  value: jvb
- name: JVB_AUTH_PASSWORD
  valueFrom:
    secretKeyRef:
      name: jitsi-config
      key: JVB_AUTH_PASSWORD
- name: JICOFO_AUTH_USER
  value: focus
- name: JICOFO_AUTH_PASSWORD
  valueFrom:
    secretKeyRef:
      name: jitsi-config
      key: JICOFO_AUTH_PASSWORD
- name: TZ
  value: {{ .Values.jitsi.common.timezone }}
- name: JVB_TCP_HARVESTER_DISABLED
  value: "false"
- name: JVB_BREWERY_MUC
  value: jvbbrewery
- name: JVB_STUN_SERVERS
  value: stun.l.google.com:19302,stun1.l.google.com:19302,stun2.l.google.com:19302
- name: JIGASI_BREWERY_MUC
  value: jigasibrewery
- name: JIBRI_BREWERY_MUC
  value: jibribrewery
- name: JIBRI_RECORDER_USER
  value: recorder
- name: JIBRI_RECORDER_PASSWORD
  valueFrom:
    secretKeyRef:
      name: jitsi-config
      key: JIBRI_RECORDER_PASSWORD
- name: JIBRI_XMPP_USER
  value: jibri
- name: JIBRI_XMPP_PASSWORD
  valueFrom:
    secretKeyRef:
      name: jitsi-config
      key: JIBRI_XMPP_PASSWORD
- name: JVB_PORT
  value: "10000"
- name: JVB_TCP_PORT
  value: "4443"
  {{- end }}
